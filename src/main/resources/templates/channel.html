<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Channel Chat</title>

    <script type="text/javascript">
        // Check if the username exists in the sessionStorage
        const currentUsername = sessionStorage.getItem('username');

        if (!currentUsername) {
            // If username is not set, redirect to welcome.html
            window.location.href = '/welcome';
        }
    </script>

</head>

<body>
    <div class="container">
        <h2 th:text="'Channel: ' + ${channelName}"></h2>
        <div class="messages" id="messageArea" style="border: 1px solid black;">
            <!-- Loop through the list of messages and display each one -->
            <div th:each="message : ${messages}">
                <span th:text="${message.user.username} + ': '"></span>
                <span th:text="${message.content}"></span>
            </div>
        </div>

        <textarea id="messageInput" placeholder="Type a message..." onkeydown="checkForEnter(event)"></textarea>
    </div>

    <script type="text/javascript" src="/js/channel.js"></script>

</body>

</html>